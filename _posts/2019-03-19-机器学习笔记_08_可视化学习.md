---
title: 机器学习笔记_08_可视化学习
categories:
- ML
tags:
- tensorflow
updated: 2019-03-19
---



 

笔记来源：培训视频       tensorflow_变量和模型保存加载

变量也是一种OP，是一种特殊的张量，能够进行存储持久化，它的值就是张量，默认被训练

**变量的创建：**

```python
# coding: utf-8
import tensorflow as tf
# 变量op
# 1.变量op能够持久化保存，普通张量op是不行的
# 2.当定义一个变量op的时候，一定要在会话中去运行初始化
a = tf.constant([1,2,3,4,5])

var = tf.Variable(tf.random_normal([2,3], mean=0.0, stddev=1.0))
# 必须做一个变量的初始化
print(a,var)
init_op = tf.global_variables_initializer()
with tf.Session() as sess:
    # 必须运行初始化op
    sess.run(init_op)
    print(sess.run([a,var]))
"""
Instructions for updating:
Colocations handled automatically by placer.
Tensor("Const:0", shape=(5,), dtype=int32) <tf.Variable 'Variable:0' shape=(2, 3) dtype=float32_ref>
2019-03-19 21:30:11.507769: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2
[array([1, 2, 3, 4, 5]), array([[-0.33794367,  1.279152  , -1.3395509 ],
       [-1.1078109 ,  0.2595736 , -1.0577877 ]], dtype=float32)]

Process finished with exit code 0
"""
```

**可视化学习 tensorboard**

<img src="{{ site.url }}/assets//blog_images/ML/可视化学习_01.png" />





利用tensorboard生成可视化文件

```python
# coding: utf-8
import tensorflow as tf
# 变量op
# 1.变量op能够持久化保存，普通张量op是不行的
# 2.当定义一个变量op的时候，一定要在会话中去运行初始化
a = tf.constant([1,2,3,4,5])

var = tf.Variable(tf.random_normal([2,3], mean=0.0, stddev=1.0))
# 必须做一个变量的初始化
print(a,var)
init_op = tf.global_variables_initializer()
with tf.Session() as sess:
    # 必须运行初始化op
    sess.run(init_op)
    # 将程序的图结构写入事件文件，graph：把指定的图写进事件文件当中
    filewriter = tf.summary.FileWriter('./test/', graph=sess.graph)
    print(sess.run([a,var]))
"""
运行后生成一个test文件夹，并在文件夹中生成一个以主机名字为结尾的文件
 events.out.tfevents.1553002934.CROW
 然后用tensorboard中运行即可。
"""

```

tensorboard --logdir="路径"

直接访问6006端口即可。

<img src="{{ site.url }}/assets//blog_images/ML/可视化学习_02.png" />

<img src="{{ site.url }}/assets//blog_images/ML/可视化学习_03.png" />

<img src="{{ site.url }}/assets//blog_images/ML/可视化学习_04.png" />

如果存在test文件夹下有多个文件，tensorboard会根据最新的时间去更新。

<img src="{{ site.url }}/assets//blog_images/ML/可视化学习_05.png" />

增加变量的显示：

<img src="{{ site.url }}/assets//blog_images/ML/可视化学习_06.png" />

