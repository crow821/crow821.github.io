---
title: 这个是一个用来测试的文件
categories:
- CVE-2019-6203
tags:
- 渗透笔记
updated: 2019-11-30
copyright: true
---



CVE-2019-6203 会使iPhone IOS12.2以下, macOS < 10.14.4的苹果设备恶意连入第三方WIFI。







# 一级标题：实验准备

本次利用设备：	kali linux 虚拟机 

​				  ios10.3.3 苹果手机

​				  无线网卡一个

达到目的： 进行登录网站明文抓取

## 二级标题：下载poc文件

首先下载好POC：https://github.com/qingxp9/CVE-2019-6203-PoC

到时候我们会使用里面的 CVE-2019-6203-PoC.py 文件

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_01.png" />

插上我们的外置网卡：

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_02.png" />

在Kali-Linux中安装 hostapd-wpe dnsmasq（图中我已经安装了）

```
apt-get install hostapd-wpe dnsmasq
```

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_03.png" />

查看自己的网卡信息：

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_04.png" />

然后修改WIFI名称：

```shell
cd /etc/hostapd/
ls
cp hostapd-wpe.conf hostapd-wpe.conf.bak(备份是一种习惯)
vim hostapd-wpe.conf
```

然后将其中的ssid修改为：CMCC-Free（最后钓鱼WiFi显示的名称）

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_05.png" />

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_06.png" />

# 一级标题：运行代码

然后运行代码：

```shell
python CVE-2019-6203-PoC -i wlan0 -o eth0
```

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_07.png" />

此时我们用手机进行扫描连接：

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_08.png" />

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_09.png" />

搜索到之后，直接输入任意密码和账号，此时会显示是否信任此证书，点击信任

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_10.png" />

此时，手机已经连接到了钓鱼WiFi，我们打开wireshark开始抓取流量。

选择wlan0的网卡进行流量抓取：

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_11.png" />

一段时间后使用wireshark规则进行过滤：

得到登录包：

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_12.png" />

然后即可查看到登录信息：

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_13.png" />

​	<img src="{{ site.url }}/assets//blog_images/CVE-2019-6203_14.png" />

















